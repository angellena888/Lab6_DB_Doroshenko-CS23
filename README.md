Практична робота №6
«Реляційна алгебра. Побудова запитів для предметної області»
Мета роботи
Набути досвіду створення запитів у реляційній моделі баз даних, ознайомитися з основними операціями реляційної алгебри та навчитися застосовувати їх для формального опису запитів без використання SQL.

## 1. Постановка задачі

Предметна область «Постачання» описує процес забезпечення різних проєктів товарами від постачальників у різних містах України.

У моделі використано чотири сутності:
S — Постачальник
S# — номер постачальника
SNAME — прізвище
STATUS — рейтинг постачальника
CITY — місто
P — Товар
P# — номер товару
PNAME — назва
COLOR — колір
WEIGHT — вага
CITY — місто
J — Проєкт
J# — номер проєкту
JNAME — назва
CITY — місто
SPJ — Поставка

Відношення з комбінацією:
S# — постачальник
P# — товар
J# — проєкт
QTY — кількість

Комбінація (S#, P#, J#) унікальна → одна поставка певного товару від певного постачальника для певного проєкту.

## 2. Запити за варіантом №7
1. Отримати повну інформацію про постачання
2. Отримати всі проєкти у Львові
3. Отримати пари «номер постачальника — місто»
4. Отримати всі імена постачальників
5. Отримати імена товарів, що постачаються Костенко
6. Отримати номери проєктів, у які постачаються сині товари або постачальником із Харкова
7. Отримати номери товарів з Харкова вагою < 100
8. Імена товарів, що беруть участь у проєкті J1

## 3. Реляційна алгебра (виконання завдання №3)
1. Повна інформація про постачання
SPJ

2. Проєкти у Львові
J WHERE CITY = 'Львів'

3. Пари «номер постачальника – місто»
S [S#, CITY]

4. Імена постачальників
S [SNAME]

5. Імена товарів, що постачаються Костенко
Скорочений варіант:
((SPJ JOIN S) WHERE SNAME='Костенко' JOIN P) [PNAME]
Покроково:
T1 := SPJ JOIN S
T2 := T1 WHERE SNAME='Костенко'
T3 := T2 JOIN P
T4 := T3 [PNAME]

6. Номери проєктів, у які постачаються сині товари або постачальником з Харкова
( (SPJ JOIN (P WHERE COLOR='Синій')) [J#] )
UNION
( (SPJ JOIN (S WHERE CITY='Харків')) [J#] )

7. Номери товарів з Харкова вагою < 100
(P WHERE CITY='Харків' AND WEIGHT < 100) [P#]

8. Імена товарів, що беруть участь у проєкті J1
((SPJ WHERE J#='J1') JOIN P) [PNAME]

## 4. ER-діаграма (з ЛР5, після нормалізації до 5NF)
Опис предметної області «Продаж авіаквитків»
<img width="1404" height="526" alt="2NF" src="https://github.com/user-attachments/assets/0f3fe780-902c-4ff6-889c-66ca20b10eac" />

Аеровокзал здійснює продаж квитків на основі:
- типів літаків,
- відстаней між містами,
- тарифів (ціна за км + клас обслуговування),
- комісій зборів,
- розкладу рейсів.

Побудована ER-модель нормалізована до 5NF.
Приклад структури:

Flights(F#, FromCity, ToCity, Distance, PlaneType)
Schedule(F#, Date)
Tariff(PlaneType, Class, RatePerKm, Commission)
Season(Date, Coeff)

ER-діаграма (після 5NF)
<img width="807" height="148" alt="до норм 5" src="https://github.com/user-attachments/assets/9760189a-53cf-4d14-bed9-55b8ee1fc99a" />

## 5. Реляційна алгебра (запити для предметної області «Продаж авіаквитків»)
Запит 1. Обчислити ціну квитка на вказану дату для вказаного рейсу та класу
T1 := Flights WHERE F#='F1'
T2 := Schedule WHERE Date='2025-06-01'
T3 := T1 JOIN T2
T4 := Tariff WHERE Class='Бізнес'
T5 := T3 JOIN T4
T6 := Season WHERE Date='2025-06-01'
T7 := T5 JOIN T6
RESULT := T7 [ (Distance * RatePerKm * Coeff + Commission) → Price ]

Запит 2. Обчислити ціни квитків на дату для рейсів з відстанню < X
T1 := Flights WHERE Distance < X
T2 := Schedule WHERE Date='2025-06-01'
T3 := T1 JOIN T2
T4 := Tariff
T5 := T3 JOIN T4
T6 := Season WHERE Date='2025-06-01'
T7 := T5 JOIN T6
RESULT := T7 [F#, Class, (Distance * RatePerKm * Coeff + Commission) → Price]

## 6. Висновки

У ході роботи було проведено формалізацію запитів предметних областей «Постачання» та «Продаж авіаквитків» мовою реляційної алгебри. Для кожного запиту побудовані покрокові алгебраїчні операції — вибірки, з’єднання, проєкції, об’єднання та обчислювані атрибути. Робота дозволила глибше зрозуміти принципи реляційної моделі, структуру відношень та способи формалізації запитів без використання SQL.

## 7. Посилання

Словник:
https://docs.google.com/document/d/1IT18rIBnTkSIlVkFAKz8r59l4t3yPDM6iLKcQL0WPSY/edit?usp=sharing

Конспект:
https://docs.google.com/document/d/14yQNhCpo6himiP9ecccLIL7eqCVLKN6V8wd191O5j9Q/edit?usp=sharing
